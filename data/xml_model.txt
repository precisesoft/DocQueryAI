<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           targetNamespace="http://fda.gov/entrydetail"
           xmlns:tns="http://fda.gov/entrydetail"
           elementFormDefault="qualified">

    <!-- Root Element -->
    <xs:element name="entryDetail" type="tns:EntryDetailType"/>

    <!-- EntryDetail Complex Type -->
    <xs:complexType name="EntryDetailType">
        <xs:sequence>
            <xs:element name="entryTypeCode" type="tns:EntryTypeCodeType"/>
            <xs:element name="operType" type="tns:OperTypeType"/>
            <xs:element name="pstlTrckngNum" type="tns:PostalTrackingNumberType" minOccurs="0"/>
            <xs:element name="mnlFileInd" type="tns:ManualFileIndicatorType"/>
            <xs:element name="entrdThruPortId" type="tns:EnteredThroughPortIdType"/>
            <xs:element name="sbmsnDate" type="xs:date"/>
            <xs:element name="lines" type="tns:LinesType"/>
            <xs:element name="entryAddress" type="tns:EntryAddressListType"/>
            <xs:element name="uspsContentReviewedAcceptedFlag" type="xs:boolean"/>
        </xs:sequence>
    </xs:complexType>

    <!-- Lines Complex Type -->
    <xs:complexType name="LinesType">
        <xs:sequence>
            <xs:element name="line" type="tns:LineType" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <!-- Line Complex Type -->
    <xs:complexType name="LineType">
        <xs:sequence>
            <xs:element name="lineNum" type="tns:LineNumberType"/>
            <xs:element name="imprtrPrdctDescText" type="tns:ImporterProductDescriptionType"/>
            <xs:element name="isoCntryCode" type="tns:CountryCodeType"/>
            <xs:element name="lctnRmrksText" type="tns:LocationRemarksType"/>
            <xs:element name="mfgFirmFeiNum" type="tns:ManufacturingFirmFeiNumberType"/>
            <xs:element name="prdctId" type="tns:ProductIdType"/>
            <xs:element name="smplAvlbltyDate" type="xs:date"/>
            <xs:element name="totalQty" type="tns:TotalQuantityType"/>
            <xs:element name="unitOfMsrCode" type="tns:UnitOfMeasureCodeType"/>
            <xs:element name="unitType" type="tns:UnitTypeType"/>
            <xs:element name="valueGoodsAmt" type="tns:ValueGoodsAmountType"/>
            <xs:element name="isAbvEntry" type="xs:boolean"/>
            <xs:element name="productCode" type="tns:ProductCodeType"/>
            <xs:element name="quantity" type="tns:QuantityListType"/>
        </xs:sequence>
    </xs:complexType>

    <!-- ProductCode Complex Type -->
    <xs:complexType name="ProductCodeType">
        <xs:sequence>
            <xs:element name="industryCode" type="tns:IndustryCodeType"/>
            <xs:element name="classCode" type="tns:ClassCodeType"/>
            <xs:element name="groupCode" type="tns:GroupCodeType"/>
            <xs:element name="gpiCode" type="tns:GpiCodeType"/>
            <xs:element name="productDesc" type="tns:ProductDescriptionType"/>
            <xs:element name="productId" type="tns:ProductIdType"/>
        </xs:sequence>
    </xs:complexType>

    <!-- Quantity List Complex Type -->
    <xs:complexType name="QuantityListType">
        <xs:sequence>
            <xs:element name="quantity" type="tns:QuantityType" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <!-- Quantity Complex Type -->
    <xs:complexType name="QuantityType">
        <xs:sequence>
            <xs:element name="displayOrderId" type="tns:DisplayOrderIdType"/>
            <xs:element name="unitOfMsrCode" type="tns:QuantityUnitOfMeasureCodeType"/>
            <xs:element name="unitsQty" type="tns:UnitsQuantityType"/>
            <xs:element name="ntcInd" type="tns:NoticeIndicatorType"/>
        </xs:sequence>
    </xs:complexType>

    <!-- EntryAddress List Complex Type -->
    <xs:complexType name="EntryAddressListType">
        <xs:sequence>
            <xs:element name="entryAddress" type="tns:EntryAddressType" minOccurs="2" maxOccurs="2"/>
        </xs:sequence>
    </xs:complexType>

    <!-- EntryAddress Complex Type -->
    <xs:complexType name="EntryAddressType">
        <xs:sequence>
            <xs:element name="name" type="tns:AddressNameType"/>
            <xs:element name="line1Adrs" type="tns:AddressLine1Type"/>
            <xs:element name="line2Adrs" type="tns:AddressLine2Type" minOccurs="0"/>
            <xs:element name="cityName" type="tns:CityNameType"/>
            <xs:element name="stateCode" type="tns:StateCodeType"/>
            <xs:element name="zipCode" type="tns:ZipCodeType"/>
            <xs:element name="isoCntryCode" type="tns:CountryCodeType"/>
            <xs:element name="entryAddrType" type="tns:EntryAddressTypeType" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>

    <!-- Simple Types with Restrictions -->
    <xs:simpleType name="EntryTypeCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="3"/>
            <xs:pattern value="[A-Za-z0-9]{1,3}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="OperTypeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="10"/>
            <xs:pattern value="[A-Za-z0-9]{1,10}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="PostalTrackingNumberType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="25"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ManualFileIndicatorType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="1"/>
            <xs:pattern value="[YN]"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="EnteredThroughPortIdType">
        <xs:restriction base="xs:long">
            <xs:totalDigits value="7"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="LineNumberType">
        <xs:restriction base="xs:int">
            <xs:totalDigits value="4"/>
            <xs:minInclusive value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ImporterProductDescriptionType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="240"/>
            <xs:minLength value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="CountryCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="2"/>
            <xs:pattern value="[A-Z?]{2}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="LocationRemarksType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="240"/>
            <xs:minLength value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ManufacturingFirmFeiNumberType">
        <xs:restriction base="xs:long">
            <xs:totalDigits value="10"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ProductIdType">
        <xs:restriction base="xs:long">
            <xs:totalDigits value="10"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="TotalQuantityType">
        <xs:restriction base="xs:decimal">
            <xs:totalDigits value="38"/>
            <xs:fractionDigits value="3"/>
            <xs:minInclusive value="1.000"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="UnitOfMeasureCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="4"/>
            <xs:enumeration value="LB"/>
            <xs:enumeration value="KG"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="UnitTypeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="1"/>
            <xs:pattern value="[A-Z]"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ValueGoodsAmountType">
        <xs:restriction base="xs:decimal">
            <xs:totalDigits value="12"/>
            <xs:fractionDigits value="2"/>
            <xs:minInclusive value="0.01"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="IndustryCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="2"/>
            <xs:pattern value="[A-Za-z0-9]{2}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ClassCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="1"/>
            <xs:pattern value="[A-Za-z0-9]"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="GroupCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="2"/>
            <xs:pattern value="[A-Za-z0-9]{2}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="GpiCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="2"/>
            <xs:pattern value="[A-Za-z0-9]{2}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ProductDescriptionType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="100"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="DisplayOrderIdType">
        <xs:restriction base="xs:decimal">
            <xs:totalDigits value="3"/>
            <xs:minInclusive value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="QuantityUnitOfMeasureCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="4"/>
            <xs:enumeration value="PK"/>
            <xs:enumeration value="LB"/>
            <xs:enumeration value="KG"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="UnitsQuantityType">
        <xs:restriction base="xs:decimal">
            <xs:totalDigits value="38"/>
            <xs:fractionDigits value="3"/>
            <xs:minInclusive value="1.000"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="NoticeIndicatorType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="1"/>
            <xs:pattern value="[YN]"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="AddressNameType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="200"/>
            <xs:minLength value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="AddressLine1Type">
        <xs:restriction base="xs:string">
            <xs:maxLength value="110"/>
            <xs:minLength value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="AddressLine2Type">
        <xs:restriction base="xs:string">
            <xs:maxLength value="110"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="CityNameType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="100"/>
            <xs:minLength value="1"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="StateCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="2"/>
            <xs:pattern value="[A-Z?]{2}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ZipCodeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="15"/>
            <xs:pattern value="(\d{5}|\d{5}-\d{4}|00000)"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="EntryAddressTypeType">
        <xs:restriction base="xs:string">
            <xs:maxLength value="240"/>
        </xs:restriction>
    </xs:simpleType>

</xs:schema>
